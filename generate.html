<head>
    <title>GENERATE</title>
</head>

<script type="text/javascript">
    function generate() {
        var url = new URL(window.location.href);
        var query = url.searchParams;
        var length = new Number(query.get('length'));
        if (length > 10) {
            return null;
        }
        
        var number = query.get('number');
        if (number === 'true') {
            var number = true;
        }
        else {
            var number = false;
        }

        if (number === false) {
            var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'
        }
        else {
            var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890'
        }

        var index = 0;
        var result = [];

        while (index != length) {
            var random_index = Math.floor(Math.random() * chars.length);
            result.push(chars[random_index]);
            index += 1;
            console.log(result);
        }

        var final_result = result.join('');

        document.body.innerHTML += `<h1>${final_result}</h1>`;
        
        return null;
    }

    function index() {
        window.location = '/';
    }
</script>

<body onload="generate()"></body>
<p>
    <button onclick="index()">INDEX</button>
    <button onclick="window.location.reload()">REFRESH</button>
</p>
